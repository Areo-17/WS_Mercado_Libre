{% extends "template.html" %}



{% block subtitulo %}
<h2 style="text-align: center;font-weight: bold;">Data from Word(s)</h2>
{% endblock %}



{% block body %}

<div id="miModal" class="modal">
    <div class="modal-content">
      <p>Cargando, por favor espera...</p>
    </div>
</div>

<div class="grid-container">
    {% for key,word in words.items() %}
        <div class="grid-item">
            <form action="/Detail" style="border-width: 0px;" method="post">
                <a href="{{word.link}}"><h2>{{word.word}}</h2></a>

                {% if "200" in word.stage %}
                    <p>{{word.items_found}}</p>
                {% else %}
                    <p>{{word.stage}}</p>
                {% endif %}
            
                <input type="hidden" name="links" value="{{word.links_found}}">
                <input type="hidden" name="word" value="{{word.word}}">
                <br>
                <br>
                <button type="submit">Más información</button>
            </form>
        </div>
    {% endfor %}
</div>

<script>
    document.addEventListener("DOMContentLoaded", function(event) { 
        var submitButtons = document.querySelectorAll('form button[type="submit"]');
    
        submitButtons.forEach(function(button) {
            button.addEventListener('click', function() {
                document.getElementById('miModal').style.display = 'block';
            });
        });
    });
</script>
{% endblock %}